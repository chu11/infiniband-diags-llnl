.TH IBROUTE 8 "July 25, 2006" "OpenIB" "OpenIB Diagnostics"

.SH NAME
ibroute \- query InfiniBand switch forwarding tables

.SH SYNOPSIS
.B ibroute
[\-d(ebug)] [-a(ll)] [-n(o_dests)] [-v(erbose)] [\-D(irect)] [\-G(uid)]
[-M(ulticast)] [-s smlid] [\-C ca_name] [\-P ca_port]
[\-t(imeout) timeout_ms] [\-V(ersion)] [\-h(elp)]
[<dest dr_path|lid|guid> [<startlid> [<endlid>]]]

.SH DESCRIPTION
.PP
ibroute uses SMPs to display the forwarding tables (unicast
(LinearForwardingTable or LFT) or multicast (MulticastForwardingTable or MFT))
for the specified switch LID and the optional lid (mlid) range.
The default range is all valid entries in the range 1...FDBTop.

.SH OPTIONS

.PP
See infiniband-diags(8) for common options.

.PP
.TP
\fB\-a\fR, \fB\-\-all\fR
show all lids in range, even invalid entries
.TP
\fB\-n\fR, \fB\-\-no_dests\fR
do not try to resolve destinations
.TP
\fB\-M\fR, \fB\-\-Multicast\fR
show multicast forwarding tables
In this case, the range parameters are specifying the mlid range.


.SH EXAMPLES

.PP
Unicast examples
.PP
ibroute 4       # dump all lids with valid out ports of switch with lid 4
.PP
ibroute -a 4    # same, but dump all lids, even with invalid out ports
.PP
ibroute -n 4    # simple dump format - no destination resolution
.PP
ibroute 4 10    # dump lids starting from 10 (up to FDBTop)
.PP
ibroute 4 0x10 0x20     # dump lid range
.PP
ibroute -G 0x08f1040023 # resolve switch by GUID
.PP
ibroute -D 0,1  # resolve switch by direct path

.PP
Multicast examples
.PP
ibroute -M 4    # dump all non empty mlids of switch with lid 4
.PP
ibroute -M 4 0xc010 0xc020      # same, but with range
.PP
ibroute -M -n 4 # simple dump format

.SH SEE ALSO
.BR ibtracert (8)

.SH AUTHOR
.TP
Hal Rosenstock
.RI < halr@voltaire.com >
